!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.SlideV=i():e.SlideV=i()}("undefined"!=typeof self?self:this,function(){return function(e){var i={};function t(n){if(i[n])return i[n].exports;var l=i[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=0)}([function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=s(t(1)),l=s(t(2));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(i){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),(0,n.default)(i)&&(this._config=(0,l.default)(i),this._containerElem=this._config.containerSelector,this._callback=function(){},this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onClick=this._onClick.bind(this),this._onResize=this._onResize.bind(this),this._init())}var i,t,s;return i=e,(t=[{key:"_init",value:function(){this._isInit=!0,this._buffer=[],this._position=0,this._numberSlidesAfterFrame=this._containerElem.children.length-this._config.slidesInFrame,this._createDomStructure(),this._eventSubscribe()}},{key:"_createDomStructure",value:function(){this._containerElem.style.overflow="hidden",this._containerElem.style.position="relative",this._movingElem=document.createElement("div"),this._movingElem.style.position="relative",this._movingElem.style.whiteSpace="nowrap",this._movingElem.style.left="0",this._movingElem.style.transitionProperty="left",this._config.movingElemClass&&this._movingElem.classList.add(this._config.movingElemClass);for(var e=this._containerElem.children.length,i=0;i<e;i+=1){var t=this._containerElem.firstElementChild;this._setCssSlideElem(t),this._movingElem.append(t)}return this._containerElem.prepend(this._movingElem),this._containerElem}},{key:"_takeStep",value:function(e){var i=e.step,t=e.isAnimated,n=void 0===t||t,l=e.callback;"function"==typeof l&&(this._callback=l),this._inProgress=!0;var s=this._getAvailableStep(i),o=Math.abs(i)<s?i:s*Math.sign(i);if(0===o)return this._callbackHandler({callback:this._callback}),this._inProgress=!1,this._callApiFromBuffer(),o;this._position+=o,this._numberSlidesAfterFrame+=-o;var r=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width),a=-this._position*r;return this._movingElem.style.left="".concat(a,"px"),this._movingElem.style.transitionDuration="".concat(this._config.transitionDuration,"ms"),n||(this._movingElem.style.transitionDuration="",this._callbackHandler({callback:this._callback}),this._inProgress=!1,this._callApiFromBuffer()),this._lastSlideWidth=r,this._curentStep=o,o}},{key:"_onTransitionEnd",value:function(){this._config.onMoveEnd(),this._callbackHandler({callback:this._callback}),this._inProgress=!1,this._callApiFromBuffer()}},{key:"_callbackHandler",value:function(e){var i=e.callback;"function"==typeof i&&(this._callbackBuffer=[],i(),this._buffer=this._callbackBuffer.concat(this._buffer),this._callbackBuffer=null,this._callback=null)}},{key:"_callApiFromBuffer",value:function(){this._buffer.length>0&&this._buffer.shift()()}},{key:"_getAvailableStep",value:function(e){return 1===Math.sign(e)?this._numberSlidesAfterFrame:this._position}},{key:"_setCssSlideElem",value:function(e){e.style.display="inline-block",e.style.width="".concat(100/this._config.slidesInFrame,"%"),e.classList.add("slide-v_slide"),this._config.slideElemClass&&e.classList.add(this._config.slideElemClass)}},{key:"_removeCssSlideElem",value:function(e){e.style.display="",e.style.width="",e.classList.remove("slide-v_slide"),this._config.slideElemClass&&e.classList.remove(this._config.slideElemClass)}},{key:"_goToPosition",value:function(e){var i=e.position,t=e.isAnimated,n=e.callback,l=i-this._position;return this._takeStep({step:l,isAnimated:t,callback:n})}},{key:"_insertPrepend",value:function(e){var i=e.slideElem,t=e.callback,n=this._movingElem.children.length;return this._setCssSlideElem(i),this._movingElem.prepend(i),n+1===this._movingElem.children.length&&(this._numberSlidesAfterFrame+=1),this._callbackHandler({callback:t}),this._callApiFromBuffer(),i}},{key:"_insertAppend",value:function(e){var i=e.slideElem,t=e.callback,n=this._movingElem.children.length;return this._setCssSlideElem(i),this._movingElem.append(i),n+1===this._movingElem.children.length&&(this._numberSlidesAfterFrame+=1),this._callbackHandler({callback:t}),this._callApiFromBuffer(),i}},{key:"_insertBeforeSlideElem",value:function(e){var i=e.slideElem,t=e.index,n=e.callback;if(t<0||t>this._movingElem.children.length-1)return console.warn("slide-V error: slideElem cannot be inserted. This index does not exists"),this._callApiFromBuffer(),!1;var l=this._movingElem.children.length;return this._setCssSlideElem(i),this._movingElem.children[t].before(i),l+1===this._movingElem.children.length&&(this._numberSlidesAfterFrame+=1),this._callbackHandler({callback:n}),this._callApiFromBuffer(),i}},{key:"_removeSlideElem",value:function(e){var i=e.index,t=e.callback;if(i<0||i>this._movingElem.children.length-1)return console.warn("slide-V error: slideElem cannot be deleted. This index does not exists"),this._callApiFromBuffer(),!1;this._numberSlidesAfterFrame-=1;var n=this._movingElem.removeChild(this._movingElem.children[i]);return this._removeCssSlideElem(n),this._callbackHandler({callback:t}),this._callApiFromBuffer(),n}},{key:"_destoryDomStructure",value:function(){for(var e=this._movingElem.children.length,i=0;i<e;i+=1){var t=this._movingElem.firstElementChild;this._removeCssSlideElem(t),this._containerElem.appendChild(t)}return this._containerElem.style.overflow="",this._containerElem.style.position="",this._containerElem.removeChild(this._movingElem),this._movingElem=null,this._containerElem}},{key:"_deactivation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.initialMarkup,t=e.callback;return this._isInit=!1,this._buffer=[],this._eventUnsubscribe(),i&&this._destoryDomStructure(),this._callbackHandler({callback:t}),this._containerElem}},{key:"_onClick",value:function(e){this._config.onSlideClick(e.target.closest(".slide-v_slide"))}},{key:"_onResize",value:function(){if(this._inProgress)this._dynamicAdaptationStructure();else{this._movingElem.style.transitionDuration="";var e=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width);this._movingElem.style.left="".concat(-this._position*e,"px")}}},{key:"_dynamicAdaptationStructure",value:function(){var e=this,i=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width),t=-this._position*i,n=i/this._lastSlideWidth,l=t+this._curentStep*i,s=parseFloat(getComputedStyle(this._movingElem).left);s*=n,this._movingElem.style.left="".concat(s,"px"),this._movingElem.style.transitionDuration="";var o=(t-s)/(t-l);this._lastSlideWidth=i,clearTimeout(this._timerResize),this._timerResize=setTimeout(function(){e._movingElem.style.transitionDuration="".concat(e._config.transitionDuration*o,"ms"),e._movingElem.style.left="".concat(t,"px"),console.log(1)},50)}},{key:"_eventSubscribe",value:function(){window.addEventListener("resize",this._onResize),this._movingElem.addEventListener("transitionend",this._onTransitionEnd),this._movingElem.addEventListener("click",this._onClick)}},{key:"_eventUnsubscribe",value:function(){window.removeEventListener("resize",this._onResize),this._movingElem.removeEventListener("transitionend",this._onTransitionEnd),this._movingElem.removeEventListener("click",this._onClick)}},{key:"_initApi",value:function(e){var i=e.method,t=e.options;return!!this._isInit&&(this._callbackBuffer?(this._callbackBuffer.push(i.bind(this,t)),this._callbackBuffer):this._inProgress?(this._buffer.push(i.bind(this,t)),this._buffer):(i.call(this,t),!0))}},{key:"getState",value:function(){return{curentSlideIndex:this._position,numberSlidesAfterFrame:this._numberSlidesAfterFrame,lastSlideIndex:this._position+this._config.slidesInFrame+this._numberSlidesAfterFrame-1}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.step,t=void 0===i?this._config.step:i,n=e.isAnimated,l=void 0===n||n,s=e.callback;return this._initApi({method:this._takeStep,options:{step:t,isAnimated:l,callback:s}}),this}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.step,t=void 0===i?this._config.step:i,n=e.isAnimated,l=void 0===n||n,s=e.callback;return this._initApi({method:this._takeStep,options:{step:-t,isAnimated:l,callback:s}}),this}},{key:"goTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=i.isAnimated,n=void 0===t||t,l=i.callback;return this._initApi({method:this._goToPosition,options:{position:e,isAnimated:n,callback:l}}),this}},{key:"append",value:function(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._insertAppend,options:{slideElem:e,callback:i}}),this}},{key:"prepend",value:function(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._insertPrepend,options:{slideElem:e,callback:i}}),this}},{key:"insert",value:function(e,i){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).callback;return this._initApi({method:this._insertBeforeSlideElem,options:{slideElem:e,index:i,callback:t}}),this}},{key:"remove",value:function(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._removeSlideElem,options:{index:e,callback:i}}),this}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.initialMarkup,t=e.callback;return this._initApi({method:this._deactivation,options:{initialMarkup:i,callback:t}}),this}}])&&o(i.prototype,t),s&&o(i,s),e}();i.default=r,e.exports=i.default},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){if(!("containerSelector"in e))return console.warn('Side-v error: "config.containerSelector" - is not defined. It is required parametr'),!1;if(null===e.containerSelector||void 0===e.containerSelector)return console.warn('Side-v error: "config.containerSelector" - uncorrect type of data. Use "String" type or DOM element'),!1;if("string"!=typeof e.containerSelector&&1!==e.containerSelector.nodeType)return console.warn('Side-v error: "config.containerSelector" - uncorrect type of data. Use "String" type or DOM element'),!1;var i="string"==typeof e.containerSelector?document.querySelector(e.containerSelector):e.containerSelector;if(null===i)return console.warn('Side-v error: "containerElem" - it is not DOM Element'),!1;if(0===i.children.length)return console.warn('Side-v error: "containerElem" - does not contain elements'),!1;return!0},e.exports=i.default},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){return e.containerSelector="string"==typeof e.containerSelector?document.querySelector(e.containerSelector):e.containerSelector,e.transitionDuration=e.transitionDuration||300,e.slidesInFrame=e.slidesInFrame||1,e.step=e.step||e.slidesInFrame,e.onMoveEnd=e.onMoveEnd||function(){},e.onSlideClick=e.onSlideClick||function(){},e},e.exports=i.default}])});