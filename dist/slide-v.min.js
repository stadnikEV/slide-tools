!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SlideV=t():e.SlideV=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(i(1)),s=l(i(2));function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,n.default)(t)&&(this._config=(0,s.default)(t),this._containerElem=t.containerSelector,this._callback=function(){},this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onClick=this._onClick.bind(this),this._onResize=this._onResize.bind(this),this._init())}var t,i,l;return t=e,(i=[{key:"_init",value:function(){this._buffer=[],this._position=0,this._numberSlidesAfterFrame=this._containerElem.children.length-this._config.slidesInFrame,this._createDomStructure(),this._eventSubscribe()}},{key:"_createDomStructure",value:function(){this._containerElem.style.overflow="hidden",this._containerElem.style.position="relative",this._movingElem=document.createElement("div"),this._movingElem.style.position="relative",this._movingElem.style.whiteSpace="nowrap",this._movingElem.style.left="0",this._movingElem.style.transitionProperty="left",this._movingElem.style.transitionDuration="".concat(this._config.transitionDuration,"ms"),this._config.movingElemClass&&this._movingElem.classList.add(this._config.movingElemClass);for(var e=this._containerElem.children.length,t=0;t<e;t+=1){var i=this._containerElem.firstElementChild;this._setCssSlideElem(i),this._movingElem.appendChild(i)}return this._containerElem.prepend(this._movingElem),this._containerElem}},{key:"_makeStep",value:function(e){var t=e.step,i=e.isAnimated,n=void 0===i||i,s=e.callback;"function"==typeof s&&(this._callback=s),this._inProgress=!0;var l=this._getAvailableStep(t),o=Math.abs(t)<l?t:l*Math.sign(t);if(0===o)return this._onTransitionEnd({isOnSlideChange:!1}),o;this._position+=o,this._numberSlidesAfterFrame+=-o;var r=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width),a=-this._position*r;return this._movingElem.style.left="".concat(a,"px"),this._movingElem.style.transitionDuration="".concat(this._config.transitionDuration,"ms"),n||(this._movingElem.style.transitionDuration="",this._onTransitionEnd({isOnSlideChange:!1})),this._lastSlideWidth=r,this._step=o,o}},{key:"_onTransitionEnd",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isOnSlideChange,t=void 0===e||e;(this._inProgress=!1,t&&this._onMoveEnd(),"function"==typeof this._callback&&(this._callbackBuffer=[],this._callback(),this._buffer=this._callbackBuffer.concat(this._buffer),this._callbackBuffer=null,this._callback=null),this._buffer.length>0)&&this._buffer.shift()()}},{key:"_setCssSlideElem",value:function(e){e.style.display="inline-block",e.style.width="".concat(100/this._config.slidesInFrame,"%"),e.classList.add("slide-v_slide"),this._config.slideElemClass&&e.classList.add(this._config.slideElemClass)}},{key:"_removeCssSlideElem",value:function(e){e.style.display="",e.style.width="",e.classList.remove("slide-v_slide"),this._config.slideElemClass&&e.classList.remove(this._config.slideElemClass)}},{key:"_getAvailableStep",value:function(e){return 1===Math.sign(e)?this._numberSlidesAfterFrame:this._position}},{key:"_goToPosition",value:function(e){var t=e.position,i=e.isAnimated,n=e.callback,s=t-this._position;return this._makeStep({step:s,isAnimated:i,callback:n})}},{key:"_insertPrepend",value:function(e){var t=e.slideElem,i=e.callback,n=this._movingElem.children.length;(this._setCssSlideElem(t),this._movingElem.prepend(t),n+1===this._movingElem.children.length&&(this._numberSlidesAfterFrame+=1),"function"==typeof i&&(this._callbackBuffer=[],i(),this._buffer=this._callbackBuffer.concat(this._buffer),this._callbackBuffer=null),this._buffer.length>0)&&this._buffer.shift()();return t}},{key:"_insertAppend",value:function(e){var t=e.slideElem,i=e.callback,n=this._movingElem.children.length;(this._setCssSlideElem(t),this._movingElem.append(t),n+1===this._movingElem.children.length&&(this._numberSlidesAfterFrame+=1),"function"==typeof i&&(this._callbackBuffer=[],i(),this._buffer=this._callbackBuffer.concat(this._buffer),this._callbackBuffer=null),this._buffer.length>0)&&this._buffer.shift()();return t}},{key:"_insertBeforeSlideElem",value:function(e){var t=e.slideElem,i=e.index,n=e.callback;if(i<0||i>this._movingElem.children.length-1){if(console.warn("slide-V error: slideElem cannot be inserted. This index does not exists"),this._buffer.length>0)this._buffer.shift()();return!1}var s=this._movingElem.children.length;(this._setCssSlideElem(t),this._movingElem.children[i].before(t),s+1===this._movingElem.children.length&&(this._numberSlidesAfterFrame+=1),"function"==typeof n&&(this._callbackBuffer=[],n(),this._buffer=this._callbackBuffer.concat(this._buffer),this._callbackBuffer=null),this._buffer.length>0)&&this._buffer.shift()();return t}},{key:"_removeSlideElem",value:function(e){var t=e.index,i=e.callback;if(t<0||t>this._movingElem.children.length-1){if(console.warn("slide-V error: slideElem cannot be deleted. This index does not exists"),this._buffer.length>0)this._buffer.shift()();return!1}this._numberSlidesAfterFrame-=1;var n=this._movingElem.removeChild(this._movingElem.children[t]);(this._removeCssSlideElem(n),"function"==typeof i&&(this._callbackBuffer=[],i(n),this._buffer=this._callbackBuffer.concat(this._buffer),this._callbackBuffer=null),this._buffer.length>0)&&this._buffer.shift()();return n}},{key:"_destoryDomStructure",value:function(){for(var e=this._movingElem.children.length,t=0;t<e;t+=1){var i=this._movingElem.firstElementChild;this._removeCssSlideElem(i),this._containerElem.appendChild(i)}return this._containerElem.style.overflow="",this._containerElem.style.position="",this._containerElem.removeChild(this._movingElem),this._movingElem=null,this._containerElem}},{key:"_deactivation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialMarkup,i=e.callback;return this._buffer=null,this._eventUnsubscribe(),t&&this._destoryDomStructure(),"function"==typeof i&&(this._callbackBuffer=[],i(),this._buffer=this._callbackBuffer.concat(this._buffer),this._callbackBuffer=null),this._containerElem}},{key:"_onMoveEnd",value:function(){this._config.onMoveEnd()}},{key:"_onClick",value:function(e){this._config.onSlideClick(e.target.closest(".slide-v_slide"))}},{key:"_onResize",value:function(){var e=this;if(this._inProgress){var t=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width),i=-this._position*t,n=t/this._lastSlideWidth,s=i+this._step*t;this._movingElem.style.left="".concat(parseFloat(getComputedStyle(this._movingElem).left)*n,"px"),this._movingElem.style.transitionDuration="";var l=(i-parseFloat(getComputedStyle(this._movingElem).left))/(i-s);return this._lastSlideWidth=t,clearTimeout(this._timerResize),void(this._timerResize=setTimeout(function(){e._movingElem.style.transitionDuration="".concat(e._config.transitionDuration*l,"ms"),e._movingElem.style.left="".concat(i,"px")},0))}this._movingElem.style.transitionDuration="";var o=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width);this._movingElem.style.left="".concat(-this._position*o,"px"),setTimeout(function(){e._onTransitionEnd({isOnSlideChange:!1})},0)}},{key:"_eventSubscribe",value:function(){window.addEventListener("resize",this._onResize),this._movingElem.addEventListener("transitionend",this._onTransitionEnd),this._movingElem.addEventListener("click",this._onClick)}},{key:"_eventUnsubscribe",value:function(){window.removeEventListener("resize",this._onResize),this._movingElem.removeEventListener("transitionend",this._onTransitionEnd),this._movingElem.removeEventListener("click",this._onClick)}},{key:"_initApi",value:function(e){var t=e.method,i=e.options;return this._callbackBuffer?(this._callbackBuffer.push(t.bind(this,i)),this._callbackBuffer):this._inProgress?(this._buffer.push(t.bind(this,i)),this._buffer):(t.call(this,i),!0)}},{key:"getState",value:function(){return{curentSlideIndex:this._position,numberSlidesAfterFrame:this._numberSlidesAfterFrame,lastSlideIndex:this._position+this._config.slidesInFrame+this._numberSlidesAfterFrame-1}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,i=void 0===t?this._config.step:t,n=e.isAnimated,s=void 0===n||n,l=e.callback;return this._initApi({method:this._makeStep,options:{step:i,isAnimated:s,callback:l}}),this}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,i=void 0===t?this._config.step:t,n=e.isAnimated,s=void 0===n||n,l=e.callback;return this._initApi({method:this._makeStep,options:{step:-i,isAnimated:s,callback:l}}),this}},{key:"goTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.isAnimated,n=void 0===i||i,s=t.callback;return this._initApi({method:this._goToPosition,options:{position:e,isAnimated:n,callback:s}}),this}},{key:"append",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._insertAppend,options:{slideElem:e,callback:t}}),this}},{key:"prepend",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._insertPrepend,options:{slideElem:e,callback:t}}),this}},{key:"insert",value:function(e,t){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).callback;return this._initApi({method:this._insertBeforeSlideElem,options:{slideElem:e,index:t,callback:i}}),this}},{key:"remove",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._removeSlideElem,options:{index:e,callback:t}}),this}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialMarkup,i=e.callback;return this._initApi({method:this._deactivation,options:{initialMarkup:t,callback:i}}),this}}])&&o(t.prototype,i),l&&o(t,l),e}();t.default=r,e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("containerSelector"in e))return console.warn('Side-v error: "config.containerSelector" - is not defined. It is required parametr'),!1;if(null===e.containerSelector||void 0===e.containerSelector)return console.warn('Side-v error: "config.containerSelector" - uncorrect type of data. Use "String" type or DOM element'),!1;if("string"!=typeof e.containerSelector&&1!==e.containerSelector.nodeType)return console.warn('Side-v error: "config.containerSelector" - uncorrect type of data. Use "String" type or DOM element'),!1;var t="string"==typeof e.containerSelector?document.querySelector(e.containerSelector):e.containerSelector;if(null===t)return console.warn('Side-v error: "containerElem" - it is not DOM Element'),!1;if(0===t.children.length)return console.warn('Side-v error: "containerElem" - does not contain elements'),!1;return!0},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.containerSelector="string"==typeof e.containerSelector?document.querySelector(e.containerSelector):e.containerSelector,e.transitionDuration=e.transitionDuration||300,e.slidesInFrame=e.slidesInFrame||1,e.step=e.step||e.slidesInFrame,e.onMoveEnd=e.onMoveEnd||function(){},e.onSlideClick=e.onSlideClick||function(){},e},e.exports=t.default}])});