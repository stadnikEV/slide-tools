!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.SlideV=i():e.SlideV=i()}("undefined"!=typeof self?self:this,function(){return function(e){var i={};function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=0)}([function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(t(1)),s=o(t(2));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(i){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),(0,n.default)(i)&&(this._config=(0,s.default)(i),this._containerElem=document.querySelector(this._config.containerSelector),this._onTransitionend=this._onTransitionend.bind(this),this._onClick=this._onClick.bind(this),this._onResize=this._onResize.bind(this),this._init())}var i,t,o;return i=e,(t=[{key:"_init",value:function(){this._buffer=[],this._position=0,this._numberSlidesAfterFrame=this._containerElem.children.length-this._config.slidesInFrame,this._createDomStructure(),this._eventSubscribe(),this._config.onInit()}},{key:"_createDomStructure",value:function(){this._containerElem.style.overflow="hidden",this._containerElem.style.position="relative",this._movingElem=document.createElement("div"),this._movingElem.style.position="relative",this._movingElem.style.whiteSpace="nowrap",this._movingElem.style.boxSizing="border-box",this._movingElem.style.fontSize="0",this._movingElem.style.left="0",this._movingElem.style.transitionProperty="left",this._movingElem.style.transitionDuration="".concat(this._config.transitionDuration,"ms"),this._config.movingElemClass&&this._movingElem.classList.add(this._config.movingElemClass);for(var e=this._containerElem.children.length,i=0;i<e;i+=1){var t=this._containerElem.firstElementChild;this._setCssSlideElem(t),this._movingElem.appendChild(t)}return this._containerElem.prepend(this._movingElem),this._containerElem}},{key:"_makeStep",value:function(e){var i=this,t=e.step,n=e.isAnimated,s=void 0===n||n,o=e.callback;if("function"==typeof o)return this._buffer.unshift(this._makeStep.bind(this,{step:t,isAnimated:s})),this._addApiFromCallbackToBuffer(o),this._buffer.shift()(),this.getState();this._inProgress=!0;var r=this._getAvailableStep(t),l=Math.abs(t)<r?t:r*Math.sign(t);if(0===l)return this._onTransitionend({isOnSlideChange:!1}),l;this._position+=l,this._numberSlidesAfterFrame+=-l;var a=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width),h=-this._position*a;return this._movingElem.style.left="".concat(h,"px"),s||(this._movingElem.style.transitionDuration="",setTimeout(function(){i._onTransitionend({isOnSlideChange:!1})},0)),this._lastSlideWidth=a,this._step=l,l}},{key:"_setCssSlideElem",value:function(e){e.style.display="inline-block",e.style.width="".concat(100/this._config.slidesInFrame,"%"),e.style.verticalAlign="middle",e.classList.add("slide-v_slide"),this._config.slideElemClass&&e.classList.add(this._config.slideElemClass)}},{key:"_removeCssSlideElem",value:function(e){e.style.display="",e.style.width="",e.style.verticalAlign="",e.classList.remove("slide-v_slide"),this._config.slideElemClass&&e.classList.remove(this._config.slideElemClass)}},{key:"_addApiFromCallbackToBuffer",value:function(e){return this._callbackBuffer=[],e(),this._buffer=this._callbackBuffer.concat(this._buffer),this._callbackBuffer=null,this._buffer}},{key:"_getAvailableStep",value:function(e){return 1===Math.sign(e)?this._numberSlidesAfterFrame:this._position}},{key:"_goToPosition",value:function(e){var i=e.position,t=e.isAnimated,n=e.callback;if("function"==typeof n)return this._buffer.unshift(this._goToPosition.bind(this,{position:i,isAnimated:t})),this._addApiFromCallbackToBuffer(n),this._buffer.shift()(),this.getState();var s=i-this._position;return this._makeStep({step:s,isAnimated:t})}},{key:"_insertPrepend",value:function(e){var i=e.slideElem,t=e.callback;if("function"==typeof t)return this._buffer.unshift(this._insertPrepend.bind(this,{slideElem:i})),this._addApiFromCallbackToBuffer(t),this._buffer.shift()(),this.getState();(this._numberSlidesAfterFrame+=1,this._setCssSlideElem(i),this._movingElem.prepend(i),this._buffer.length>0)&&this._buffer.shift()();return i}},{key:"_insertAppend",value:function(e){var i=e.slideElem,t=e.callback;if("function"==typeof t)return this._buffer.unshift(this._insertAppend.bind(this,{slideElem:i})),this._addApiFromCallbackToBuffer(t),this._buffer.shift()(),this.getState();(this._numberSlidesAfterFrame+=1,this._setCssSlideElem(i),this._movingElem.append(i),this._buffer.length>0)&&this._buffer.shift()();return i}},{key:"_insertBeforeSlideElem",value:function(e){var i=e.slideElem,t=e.index,n=e.callback;if("function"==typeof n)return this._buffer.unshift(this._insertBeforeSlideElem.bind(this,{slideElem:i,index:t})),this._addApiFromCallbackToBuffer(n),this._buffer.shift()(),this.getState();if(t<0||t>this._movingElem.children.length-1){if(console.warn("slide-V error: slideElem cannot be inserted. This index does not exists"),this._buffer.length>0)this._buffer.shift()();return!1}(this._numberSlidesAfterFrame+=1,this._setCssSlideElem(i),this._movingElem.children[t].before(i),this._buffer.length>0)&&this._buffer.shift()();return i}},{key:"_removeSlideElem",value:function(e){var i=e.index,t=e.callback;if("function"==typeof t)return this._buffer.unshift(this._removeSlideElem.bind(this,{index:i})),this._addApiFromCallbackToBuffer(t),this._buffer.shift()(),this.getState();if(i<0||i>this._movingElem.children.length-1){if(console.warn("slide-V error: slideElem cannot be deleted. This index does not exists"),this._buffer.length>0)this._buffer.shift()();return!1}this._numberSlidesAfterFrame-=1;var n=this._movingElem.removeChild(this._movingElem.children[i]);(this._removeCssSlideElem(n),this._buffer.length>0)&&this._buffer.shift()();return n}},{key:"_destoryDomStructure",value:function(){for(var e=this._movingElem.children.length,i=0;i<e;i+=1){var t=this._movingElem.firstElementChild;this._removeCssSlideElem(t),this._containerElem.appendChild(t)}return this._containerElem.style.overflow="",this._containerElem.style.position="",this._containerElem.removeChild(this._movingElem),this._movingElem=null,this._containerElem}},{key:"_deactivation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.initialMarkup,t=e.callback;return"function"==typeof t?(this._buffer.unshift(this._deactivation.bind(this,{initialMarkup:i})),this._addApiFromCallbackToBuffer(t),this._buffer.shift()(),this.getState()):(this._buffer=null,this._eventUnsubscribe(),i&&this._destoryDomStructure(),this._containerElem)}},{key:"_onChange",value:function(){this._config.onChange(this._position,this._numberSlidesAfterFrame)}},{key:"_onClick",value:function(e){this._config.onClick(e.target.closest(".slide-v_slide"))}},{key:"_onTransitionend",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isOnSlideChange,i=void 0===e||e;(this._inProgress=!1,this._movingElem.style.transitionDuration="".concat(this._config.transitionDuration,"ms"),i&&this._onChange(),this._buffer.length>0)&&this._buffer.shift()()}},{key:"_onResize",value:function(){var e=this;if(this._inProgress){var i=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width),t=-this._position*i,n=i/this._lastSlideWidth,s=t+this._step*i;this._movingElem.style.left="".concat(parseFloat(getComputedStyle(this._movingElem).left)*n,"px"),this._movingElem.style.transitionDuration="";var o=(t-parseFloat(getComputedStyle(this._movingElem).left))/(t-s);return this._lastSlideWidth=i,clearTimeout(this._timerResize),void(this._timerResize=setTimeout(function(){e._movingElem.style.transitionDuration="".concat(e._config.transitionDuration*o,"ms"),e._movingElem.style.left="".concat(t,"px")},0))}this._movingElem.style.transitionDuration="";var r=parseFloat(getComputedStyle(this._movingElem.firstElementChild).width);this._movingElem.style.left="".concat(-this._position*r,"px"),setTimeout(function(){e._onTransitionend({isOnSlideChange:!1})},0)}},{key:"_eventSubscribe",value:function(){window.addEventListener("resize",this._onResize),this._movingElem.addEventListener("transitionend",this._onTransitionend),this._movingElem.addEventListener("click",this._onClick)}},{key:"_eventUnsubscribe",value:function(){window.removeEventListener("resize",this._onResize),this._movingElem.removeEventListener("transitionend",this._onTransitionend),this._movingElem.removeEventListener("click",this._onClick)}},{key:"_initApi",value:function(e){var i=e.method,t=e.options;return this._callbackBuffer?(this._callbackBuffer.push(i.bind(this,t)),this._callbackBuffer):this._inProgress?(this._buffer.push(i.bind(this,t)),this._buffer):(i.call(this,t),!0)}},{key:"getState",value:function(){return{curentSlideIndex:this._position,numberSlidesAfterFrame:this._numberSlidesAfterFrame}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.step,t=void 0===i?this._config.step:i,n=e.isAnimated,s=void 0===n||n,o=e.callback;return this._initApi({method:this._makeStep,options:{step:t,isAnimated:s,callback:o}}),this}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.step,t=void 0===i?this._config.step:i,n=e.isAnimated,s=void 0===n||n,o=e.callback;return this._initApi({method:this._makeStep,options:{step:-t,isAnimated:s,callback:o}}),this}},{key:"goTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=i.isAnimated,n=void 0===t||t,s=i.callback;return this._initApi({method:this._goToPosition,options:{position:e,isAnimated:n,callback:s}}),this}},{key:"append",value:function(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._insertAppend,options:{slideElem:e,callback:i}}),this}},{key:"prepend",value:function(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._insertPrepend,options:{slideElem:e,callback:i}}),this}},{key:"insert",value:function(e,i){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).callback;return this._initApi({method:this._insertBeforeSlideElem,options:{slideElem:e,index:i,callback:t}}),this}},{key:"remove",value:function(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback;return this._initApi({method:this._removeSlideElem,options:{index:e,callback:i}}),this}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.initialMarkup,t=e.callback;return this._initApi({method:this._deactivation,options:{initialMarkup:i,callback:t}}),this}}])&&r(i.prototype,t),o&&r(i,o),e}();i.default=l,e.exports=i.default},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){if(!("containerSelector"in e))return console.warn('Side-v error: "config.containerSelector" is not defined. It is required parametr'),!1;if("string"!=typeof e.containerSelector)return console.warn('Side-v error: "config.containerSelector" - uncorrect type of data. Use "String" type'),!1;var i=document.querySelector(e.containerSelector);if(null===i||void 0===i||1!==i.nodeType)return console.warn('Side-v error: "containerElem" - it is not DOM Element'),!1;if(0===i.children.length)return console.warn('Side-v error: "containerElem" does not contain elements'),!1;return!0},e.exports=i.default},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){return e.transitionDuration=e.transitionDuration||300,e.slidesInFrame=e.slidesInFrame||1,e.step=e.step||e.slidesInFrame,e.onInit=e.onInit||function(){},e.onSlideChange=e.onSlideChange||function(){},e.onSlideClick=e.onSlideClick||function(){},e},e.exports=i.default}])});